(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5750e816"],{"03c1":function(e,t,n){"use strict";n("c576")},"269a":function(e,t){e.exports=function(e,t){var n="function"===typeof e.exports?e.exports.extendOptions:e.options;for(var o in"function"===typeof e.exports&&(n.directives=e.exports.options.directives),n.directives=n.directives||{},t)n.directives[o]=n.directives[o]||t[o]}},3191:function(e,t,n){(function(t,n){e.exports=n()})(0,(function(){var e=function(){function t(e){return a.appendChild(e.dom),e}function n(e){for(var t=0;t<a.children.length;t++)a.children[t].style.display=t===e?"block":"none";o=e}var o=0,a=document.createElement("div");a.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",a.addEventListener("click",(function(e){e.preventDefault(),n(++o%a.children.length)}),!1);var i=(performance||Date).now(),s=i,r=0,c=t(new e.Panel("FPS","#0ff","#002")),l=t(new e.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var d=t(new e.Panel("MB","#f08","#201"));return n(0),{REVISION:16,dom:a,addPanel:t,showPanel:n,begin:function(){i=(performance||Date).now()},end:function(){r++;var e=(performance||Date).now();if(l.update(e-i,200),e>s+1e3&&(c.update(1e3*r/(e-s),100),s=e,r=0,d)){var t=performance.memory;d.update(t.usedJSHeapSize/1048576,t.jsHeapSizeLimit/1048576)}return e},update:function(){i=this.end()},domElement:a,setMode:n}};return e.Panel=function(e,t,n){var o=1/0,a=0,i=Math.round,s=i(window.devicePixelRatio||1),r=80*s,c=48*s,l=3*s,d=2*s,p=3*s,f=15*s,u=74*s,h=30*s,m=document.createElement("canvas");m.width=r,m.height=c,m.style.cssText="width:80px;height:48px";var v=m.getContext("2d");return v.font="bold "+9*s+"px Helvetica,Arial,sans-serif",v.textBaseline="top",v.fillStyle=n,v.fillRect(0,0,r,c),v.fillStyle=t,v.fillText(e,l,d),v.fillRect(p,f,u,h),v.fillStyle=n,v.globalAlpha=.9,v.fillRect(p,f,u,h),{dom:m,update:function(c,b){o=Math.min(o,c),a=Math.max(a,c),v.fillStyle=n,v.globalAlpha=1,v.fillRect(0,0,r,f),v.fillStyle=t,v.fillText(i(c)+" "+e+" ("+i(o)+"-"+i(a)+")",l,d),v.drawImage(m,p+s,f,u-s,h,p,f,u-s,h),v.fillRect(p+u-s,f,s,h),v.fillStyle=n,v.globalAlpha=.9,v.fillRect(p+u-s,f,s,i((1-c/b)*h))}}},e}))},"4bdf":function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{directives:[{name:"resize",rawName:"v-resize",value:e.onResize,expression:"onResize"}],ref:"mapContainer",staticClass:"mapContainer",on:{keypress:e.onWDown}}),n("v-row",{staticClass:"bottom-controls",attrs:{"no-gutters":""}},[n("v-checkbox",{staticClass:"hide-grid-checkbox mr-2",attrs:{"hide-details":"",reverse:"",label:"Grid"},model:{value:e.showGrid,callback:function(t){e.showGrid=t},expression:"showGrid"}}),n("v-slider",{staticClass:"pan-speed-slider mr-2",attrs:{"hide-details":"",min:e.MIN_PAN_SPEED,max:e.MAX_PAN_SPEED,"thumb-label":"always",label:"Pan Speed:"},model:{value:e.masterMapData.panSpeed,callback:function(t){e.$set(e.masterMapData,"panSpeed",t)},expression:"masterMapData.panSpeed"}}),n("v-tooltip",{attrs:{top:"","nudge-left":"40","nudge-bottom":"10"},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on;return[n("v-btn",e._g({staticClass:"mr-2",attrs:{icon:""},on:{click:e.resetPan}},o),[n("v-icon",{attrs:{color:"white"}},[e._v("mdi-refresh")])],1)]}}])},[n("div",[e._v("Reset Pan Speed")])])],1),n("div",{ref:"pointInfoContainer",staticClass:"point-info"},[n("div",{ref:"pointName",staticClass:"name"},[e._v("Point Name")]),n("div",{ref:"pointCoord",staticClass:"coord"},[e._v("[Coordinate]")])]),e.showControls?n("div",{staticClass:"controls-info",class:{out:e.leftNavCondensed,"with-conversion-widget":e.conversionWidgetOpen}},[e._m(0),e._m(1),e._m(2),e._m(3),e._m(4),e._m(5),e._m(6),e._m(7),e._m(8)]):e._e(),n("ContextMenu",{ref:"contextMenu"})],1)},a=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._v("W: "),n("span",[e._v("Pan Forward")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._v("S: "),n("span",[e._v("Pan Backward")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._v("A: "),n("span",[e._v("Pan Left")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._v("D: "),n("span",[e._v("Pan Right")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._v("Space: "),n("span",[e._v("Pan Up")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._v("Left-Shift: "),n("span",[e._v("Pan Down")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._v("Left-Click: "),n("span",[e._v("Rotate Camera")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._v("Right-Click Hold: "),n("span",[e._v("Pan Camera")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._v("Right-Click: "),n("span",[e._v("Context Menu")])])}],i=(n("b0c0"),n("99af"),n("3191")),s=n.n(i),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"container",staticClass:"context-menu",class:{hide:!e.showMenu}},[e.object?n("v-btn",{attrs:{small:"",text:""},on:{click:e.onCopy}},[e._v("Copy Coordinate")]):e._e(),e.object?e._e():n("v-btn",{attrs:{small:"",text:""},on:{click:e.onResetDefaults}},[e._v("Reset Default Points")])],1)},c=[],l=n("1da1"),d=(n("96cf"),n("a6f4")),p=n("2825"),f=n("e312"),u={name:"ContextMenu",setup:function(){var e=Object(d["h"])(!1),t=Object(d["h"])(null),n=Object(d["d"])("masterMapData"),o=Object(d["d"])("masterPointsArray"),a=Object(p["c"])(),i=a.scaleUpCoordinate,s=a.setupInitialPoints,r=Object(f["d"])(n,o),c=r.mergePoints;return{showMenu:e,object:t,scaleUpCoordinate:i,setupInitialPoints:s,mergePoints:c}},methods:{open:function(e){this.object=e,this.$refs.container.style.left="".concat(event.pageX+25,"px"),this.$refs.container.style.top="".concat(event.pageY+35,"px"),this.showMenu=!0},close:function(){this.showMenu=!1,this.object=null},onCopy:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var n,o,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,!e.object||!e.object.position){t.next=10;break}return n=null,"Mesh"===e.object.type?n={position:e.object.position}:"Points"===e.object.type&&(n={position:{x:e.object.geometry.attributes.position.array[0],y:-e.object.geometry.attributes.position.array[2],z:e.object.geometry.attributes.position.array[1]}}),o=e.scaleUpCoordinate(n),a="".concat(o.position.x,",").concat(o.position.y,",").concat(o.position.z),t.next=8,navigator.clipboard.writeText(a);case 8:e.$toasted.global.alertInfo({message:"Copied Coordinate to Clipboard",timeout:1e3}),e.close();case 10:t.next=16;break;case 12:t.prev=12,t.t0=t["catch"](0),e.$toasted.global.alertError({message:"Copy failed"}),console.error("Failed to copy: ",t.t0);case 16:case"end":return t.stop()}}),t,null,[[0,12]])})))()},onResetDefaults:function(){console.log("trying to reset defaults");var e=this.setupInitialPoints();this.mergePoints(e),this.close()}}},h=u,m=(n("947f"),n("2877")),v=n("6544"),b=n.n(v),w=n("8336"),C=Object(m["a"])(h,r,c,!1,null,"793e7d17",null),y=C.exports;b()(C,{VBtn:w["a"]});var g={metaInfo:function(){return{title:"Interactive Map",description:"The Atlas Interactive Map",meta:[{name:"description",content:"Atlas Interactive Map"}]}},name:"InteractiveMap",components:{ContextMenu:y},setup:function(){var e=Object(d["d"])("masterMapData"),t=Object(d["d"])("masterPointsArray"),n=Object(d["d"])("showControls"),o=Object(d["d"])("leftNavCondensed"),a=Object(d["d"])("conversionWidgetOpen"),i=null,s=Object(f["d"])(e,t),r=s.init,c=s.resizeMap,l=s.panForward,u=s.panBackward,h=s.updateGrid,m=Object(d["i"])(e).intersects,v=Object(d["i"])(e).showGrid,b=Object(d["d"])("showManageDialog"),w=Object(d["d"])("showSaveDialog"),C=Object(d["d"])("showImportDialog"),y=Object(p["c"])(),g=y.scaleUpCoordinate,_=(Object(d["h"])(null),!1);return{stats:i,initMap:r,resizeMap:c,panForward:l,panBackward:u,masterMapData:e,masterPointsArray:t,showControls:n,leftNavCondensed:o,conversionWidgetOpen:a,MIN_PAN_SPEED:f["b"],MAX_PAN_SPEED:f["a"],intersects:m,showManageDialog:b,showSaveDialog:w,showImportDialog:C,scaleUpCoordinate:g,showGrid:v,updateGrid:h,showContext:_}},watch:{intersects:function(){var e;if(this.focusedObject=null===(e=this.masterMapData.intersects[0])||void 0===e?void 0:e.object,!this.focusedObject)return this.$refs.pointInfoContainer.style.display="none",void(this.$refs.mapContainer.style.cursor="auto");if("Points"===this.focusedObject.type){var t={position:{x:this.focusedObject.geometry.attributes.position.array[0],y:-this.focusedObject.geometry.attributes.position.array[2],z:this.focusedObject.geometry.attributes.position.array[1]}},n=this.scaleUpCoordinate(t);this.$refs.pointName.innerHTML=this.focusedObject.name,this.$refs.pointCoord.innerHTML="[".concat(n.position.x,", ").concat(n.position.y,", ").concat(n.position.z,"]"),this.$refs.pointInfoContainer.style.display="block",this.$refs.mapContainer.style.cursor="pointer"}else if("Mesh"===this.focusedObject.type&&"moon"===this.focusedObject.celestialType){var o={position:{x:this.focusedObject.position.x,y:-this.focusedObject.position.z,z:this.focusedObject.position.y}},a=this.scaleUpCoordinate(o);this.$refs.pointName.innerHTML=this.focusedObject.name,this.$refs.pointCoord.innerHTML="Estimated [".concat(a.position.x,", ").concat(a.position.y,", ").concat(a.position.z,"]"),this.$refs.pointInfoContainer.style.display="block",this.$refs.mapContainer.style.cursor="pointer"}else this.$refs.pointInfoContainer.style.display="none",this.$refs.mapContainer.style.cursor="auto"},showGrid:function(e){this.updateGrid(this.masterMapData)}},mounted:function(){var e=this;this.$nextTick((function(){window.addEventListener("keydown",(function(t){87===t.keyCode&&e.onWDown(),83===t.keyCode&&e.onSDown()})),window.addEventListener("mousemove",(function(t){e.$refs.pointInfoContainer&&(e.$refs.pointInfoContainer.style.left="".concat(t.pageX-30,"px"),e.$refs.pointInfoContainer.style.top="".concat(t.pageY-10,"px")),e.masterMapData.mapMouse.x=(t.clientX-56)/(window.innerWidth-56)*2-1,e.masterMapData.mapMouse.y=-t.clientY/window.innerHeight*2+1,e.showContext=!1})),window.addEventListener("wheel",(function(t){e.showSaveDialog||e.showManageDialog||e.showImportDialog||"INPUT"===document.activeElement.tagName||(t.deltaY>0?e.onSDown():e.onWDown())})),window.addEventListener("mousedown",(function(){"mapCanvas"===event.target.className&&e.$refs.contextMenu.close(),e.showContext=!0})),window.addEventListener("mouseup",(function(t){2===t.button&&e.showContext&&"mapCanvas"===t.target.className&&e.handleRightClick(),0===t.button&&"mapCanvas"===t.target.className&&e.handleMouseClick()})),e.createStats(),e.initMap(e.$refs.mapContainer),e.$toasted.global.alertWarning({message:"You must have Hardware Acceleration enabled in your browser,<br>or else this website will max out your CPU trying to render."})}))},methods:{createStats:function(){this.stats=new s.a,this.stats.showPanel(0),this.stats.domElement.classList="fps-tracker",this.$refs.mapContainer.appendChild(this.stats.dom),this.masterMapData.stats=this.stats},onResize:function(){this.resizeMap(this.masterMapData)},resetPan:function(){this.masterMapData.panSpeed=100},onWDown:function(){this.panForward()},onSDown:function(){this.panBackward()},handleMouseClick:function(){},handleRightClick:function(){this.focusedObject?(console.log("right clicked an object"),this.$refs.contextMenu.open(this.focusedObject)):(console.log("right clicked empty space"),this.$refs.contextMenu.open(null))}}},_=g,x=(n("03c1"),n("c3bc"),n("ac7c")),M=n("132d"),j=n("0fd9"),P=n("ba0d"),D=n("3a2f"),O=n("269a"),k=n.n(O),$=n("dc22"),S=Object(m["a"])(_,o,a,!1,null,"22dae53a",null);t["default"]=S.exports;b()(S,{VBtn:w["a"],VCheckbox:x["a"],VIcon:M["a"],VRow:j["a"],VSlider:P["a"],VTooltip:D["a"]}),k()(S,{Resize:$["a"]})},"8c0d":function(e,t,n){},"947f":function(e,t,n){"use strict";n("edf4")},c3bc:function(e,t,n){"use strict";n("8c0d")},c576:function(e,t,n){},edf4:function(e,t,n){}}]);
//# sourceMappingURL=chunk-5750e816.fd54247b.js.map